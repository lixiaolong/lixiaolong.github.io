<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>用 gitbook 来书写电子书 :: Raindrop</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="安装 nodejs 首先要安装 nodejs，官网下载非常慢容易失败，这里用淘宝的镜像站点来下载。
https://npm.taobao.org/mirrors/node/v13.13.0/从这里找到最新版本号，下载指定系统的包，解压后，拷贝到自定义目录中，再添加个bin目录的环境变量。
我这里是放在 ~/soft/node/ 目录下的，所以在文件 ~/.zshrc 中添加一行。
export PATH=$PATH:~/soft/node/bin 之后执行如下命令来使之生效，并查看是否安装成功。
source ~/.zshrcnode --version安装 cnpm nodejs 使用 npm 来进行包管理，但是 npm 下载特别慢且容易失败，所以这里使用 cnpm 来代替 npm。
# 文档地址https://developer.aliyun.com/mirror/NPM?from=tnpm# 安装命令npm install -g cnpm --registry=https://registry.npm.taobao.org# 检查是否安装成功cnpm --version如果不想使用 cnpm 也可以，因为本质上 cnpm 只是 npm 的一个软连接
# 设置 npm 的注册地址npm config set registry https://registry.npm.taobao.org# 查看地址npm info underscore安装 gitbook-cli 接下来安装 gitbook 的命令行工具
# 安装命令cnpm install gitbook-cli -g创建文档 选择一个用来存放文档的文件夹，我们这里选择的是 ~/program/gitbooks，目录中可以放多个主题的文档。" />
<meta name="keywords" content="电子书, gitbook" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/gitbook/" />




<link rel="stylesheet" href="/assets/style.css">

  <link rel="stylesheet" href="/assets/blue.css">






<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/img/favicon/blue.png">



<meta name="twitter:card" content="summary" />

  <meta name="twitter:site" content="" />

<meta name="twitter:creator" content="lxl" />


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="用 gitbook 来书写电子书 :: Raindrop">
<meta property="og:description" content="简单介绍如何用 gitbook 来书写电子书" />
<meta property="og:url" content="/posts/gitbook/" />
<meta property="og:site_name" content="用 gitbook 来书写电子书" />

  <meta property="og:image" content="/">

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2020-04-19 21:02:31 &#43;0800 CST" />












</head>
<body class="">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Raindrop
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">关于</a></li>
        
      
        
          <li><a href="/start">开始</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">关于</a></li>
      
    
      
        <li><a href="/start">开始</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/posts/gitbook/">用 gitbook 来书写电子书</a></h1>
  <div class="post-meta">
      
    <span class="post-date">
      2020-04-19
    </span>
    
    
    <span class="post-author">::
      lxl
    </span>
    
  </div>

  
  <span class="post-tags">
    
    #<a href="/tags/gitbook/">gitbook</a>&nbsp;
    
    #<a href="/tags/%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/">好用工具</a>&nbsp;
    
  </span>
  

  

  <div class="post-content"><div>
        <h2 id="安装-nodejs">安装 nodejs<a href="#安装-nodejs" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>首先要安装 nodejs，官网下载非常慢容易失败，这里用淘宝的镜像站点来下载。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">https://npm.taobao.org/mirrors/node/v13.13.0/
</code></pre></div><p>从这里找到最新版本号，下载指定系统的包，解压后，拷贝到自定义目录中，再添加个bin目录的环境变量。</p>
<p>我这里是放在 <code>~/soft/node/</code> 目录下的，所以在文件 <code>~/.zshrc</code> 中添加一行。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">export PATH<span style="color:#f92672">=</span>$PATH:~/soft/node/bin 
</code></pre></div><p>之后执行如下命令来使之生效，并查看是否安装成功。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">source ~/.zshrc

node --version
</code></pre></div><h2 id="安装-cnpm">安装 cnpm<a href="#安装-cnpm" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>nodejs 使用 npm 来进行包管理，但是 npm 下载特别慢且容易失败，所以这里使用 cnpm 来代替 npm。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># 文档地址</span>
https://developer.aliyun.com/mirror/NPM?from<span style="color:#f92672">=</span>tnpm

<span style="color:#75715e"># 安装命令</span>
npm install -g cnpm --registry<span style="color:#f92672">=</span>https://registry.npm.taobao.org

<span style="color:#75715e"># 检查是否安装成功</span>
cnpm --version
</code></pre></div><p>如果不想使用 cnpm 也可以，因为本质上 cnpm 只是 npm 的一个软连接</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># 设置 npm 的注册地址</span>
npm config set registry https://registry.npm.taobao.org

<span style="color:#75715e"># 查看地址</span>
npm info underscore
</code></pre></div><h2 id="安装-gitbook-cli">安装 gitbook-cli<a href="#安装-gitbook-cli" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>接下来安装 gitbook 的命令行工具</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># 安装命令</span>
cnpm install gitbook-cli -g
</code></pre></div><h2 id="创建文档">创建文档<a href="#创建文档" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>选择一个用来存放文档的文件夹，我们这里选择的是 <code>~/program/gitbooks</code>，目录中可以放多个主题的文档。</p>
<p>现在正在看的这个文档就是 gitbook 管理的，创建好目录之后就可以初始化文档了。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mkdir -p ~/program/gitbooks/codedrip/
cd ~/program/gitbooks/codedrip/

gitbook init
</code></pre></div><p>安装完 gitbook-cli 之后第一次初始化会久一点，因为要下载一些必要的文件，下载之后，下次再创建就不用下载了</p>
<p>创建完成之后，会看到当前目录多了两个文件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">README.md
SUMMARY.md
</code></pre></div><p>这两个文件中最关键的是 <code>SUMMARY.md</code> ，它就是一本书的目录，它将我们写的文档索引起来，变成一本书。</p>
<p>所以我们在新增一个文档文件时，需要在目录中创建一个目录项，用来指向对应的文档。</p>
<p>而 <code>README.md</code> 文件就是一本书的简介、引言，一般来说是描述我们这个文档都包含哪些内容的。</p>
<p>这里还要介绍下 <code>markdown</code> 语法，这是一种标记语言，通过在文本中添加标记，来表示文本的级别，例如一级标题，二级标题，正文，引用等等，语法很简单，不需要多久就可以学会。</p>
<h2 id="编写文档">编写文档<a href="#编写文档" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>编辑器这里有两个推荐</p>
<ol>
<li><code>typora</code>：推荐，这个编辑器和其他都不一样，是所见即所得的模式，唯一的缺点是安装包大，不好下载</li>
<li><code>vscode</code>：插件里面有一个 <code>markdown all in one</code>，安装之后也是一个不错的 markdown 编辑器</li>
</ol>
<h2 id="查看文档">查看文档<a href="#查看文档" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><code>gitbook</code> 可以在本地开启一个服务器，通过浏览器就可以查看文档了</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">gitbook serve
</code></pre></div><p>执行这条命令之后，你修改目录里面的内容都可以在浏览器中实时体现出来，很方便。</p>
<p>下面的命令可以编译文档，执行完成后会生成一个 <code>_book</code> 目录，该目录下的文件可以用浏览器打开，也可以部署到在线服务器上进行远程查看。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">gitbook build
</code></pre></div><h2 id="书籍信息">书籍信息<a href="#书籍信息" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;书名&#34;</span>,
    <span style="color:#f92672">&#34;author&#34;</span>: <span style="color:#e6db74">&#34;作者&#34;</span>,
    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;描述&#34;</span>,
    <span style="color:#f92672">&#34;language&#34;</span>: <span style="color:#e6db74">&#34;zh-hans&#34;</span>,
    <span style="color:#f92672">&#34;structure&#34;</span>: {
        <span style="color:#f92672">&#34;readme&#34;</span>: <span style="color:#e6db74">&#34;README.md&#34;</span>
    },
    <span style="color:#f92672">&#34;plugins&#34;</span>: [
        <span style="color:#e6db74">&#34;-sharing&#34;</span>
    ]
}
</code></pre></div><h2 id="制作电子书">制作电子书<a href="#制作电子书" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>gitbook 编写的文档还可以制作电子书，不过依赖另一个工具，<code>carible</code></p>
<p><code>deepin</code> 的商店里面可以下载 <code>carible</code> ，但是版本不是最新的，官网下载又太卡，所以还是选择商店下载</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">https://calibre-ebook.com/download_linux
</code></pre></div><p>下载完成之后，就可以导出电子书了</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># epub 电子书</span>
gitbook epub

<span style="color:#75715e"># pdf 电子书</span>
gitbook pdf
</code></pre></div>
      </div></div>
  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2020 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>





  
</div>

</body>
</html>
