<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Raindrop</title>
    <link>/posts/</link>
    <description>Recent content in Posts on Raindrop</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 06 Dec 2020 16:53:00 +0800</lastBuildDate><atom:link href="/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>生门</title>
      <link>/posts/live-gate/</link>
      <pubDate>Sun, 06 Dec 2020 16:53:00 +0800</pubDate>
      
      <guid>/posts/live-gate/</guid>
      <description>生门 第一集 一位48岁的的士师傅，得了孩子，满脸都是笑容，第一婚，媳妇无法生育，所以离婚了，第二婚，媳妇是二胎，以前是破腹产，还在伤痕上纹了朵花
一位荆门的女士，一个人来到医院，胎死腹中，又大出血，医生问家属，问朋友，这位女士都不说，提供的信息也不真实，说自己未婚，87年，后面110来了，提供了个号码，打不通，后面自己签字，做了手术，后来护士们说晚上来了个15岁的女孩喊她妈，后来又走了，最后来了个男的，说是老公，手术费1万四，医院按最便宜的价格来，结果只给了1万，然后出院了
一个男的和医生吵架，因为孕妇情况紧急，但是医院又没床位，所以没法收，医生说收可以，只能坐一晚上，男的很凶地说，办手续，搞快点
一个有精神分裂症的女孩怀孕39周了，要抽血检查，但是她不配合，护士没办法，和家属沟通，来的家属是婆婆，还有小姑子，老公不来，女孩的亲生父母都不管，问婆婆为何老公不来，说是她老公也很幼稚，家属让医生强行抽血，搞昏了抽血，医生说不可能，婆婆说她也没办法了，医生问那当初咋怀孕的，婆婆说是自然怀孕的，其他的她也不知道，最后没办法主任医师说建议转院到省人民医院，那边有精神科，可能有办法。转院的手续办好之后，那个精神分裂的女孩子脸上都是笑容
第二集 一个妈妈陪着女儿要做引产，因为胎儿畸形，先天心脏病，护士给抽血，结果来了个急诊，护士就跑去那边，没顾上这个，然后妈妈就开始发飙，各种骂。
一个女的怀双胞胎31周，还有糖尿病，女方诊断必然大出血，只是还没到，算下来预估需要五万块，但是没钱，病房里的人都出谋划策，男方的哥哥就回村里各种借钱，因为女方是从云南过来，没有医保，最后哥哥跑了几十户人家，终于凑到了钱，其中有两万是别人结婚要用的，说是挪用十天，先救人。医生的意思是要继续等，目前是31周，越往后等，小孩的概率就越高，需要在出血发生的时候再考虑。过了一天大出血出现了，医院紧急手术，最终大人小孩都好，两朵金花，但是小孩是早产儿，一个要五到十万，两个就要十到二十万，这家人实在没法没钱了，病房里有个人说，可以联系下，看有没有人领养小孩。还有人给楚天都市报，慈善总会，红十字会打电话。最终大人、双胞胎全部平安出院，双胞胎因为太小，所以要转到当地医院来护理。
护士有怀孕的，交流经验，说怀着的时候，想赶紧出来，出来以后，就想塞回去
第三集 一对非常乐观的夫妻，已经有一个小孩，二胎又怀了双胞胎。
女孩子只要有工作，不靠你养，不管生男生女都无所谓，所以后面还是要找工作。
一个急诊孕妇，送了三个医院都没法收治，到这里主治医师又说换别处，因为没床位休息不好，家属急了，说就在走廊就走廊，总比别处不收治的好。后来必须终止妊娠，吃打胎药的时候，孕妇哭的好伤心，男的安慰妻子，也抹起了眼泪。
这一集的对比，太扎心了，同一个产房，一个弹幕写道：一边是哭啼的欢喜，一边是沉默的悲伤。。。
前面说的那对乐观的夫妻，婆婆非要说查了要九点后生才好，但是手术被排到了8点，还说太闹心，最后结果是什么都如愿了，三个儿子，妻子却说想要两个姑娘。本来是不打算生的，女方上环了，结果上歪了，又怀上了，本来想打掉，结果一查是双胞胎，又换了一家医院查还是双胞胎，就想着生下来。
一个护士要上班上到直接要生产了就直接在医院生。
有一对夫妻，买东西的时候有一个要买盆子，男方跑去买了个非常小的，像是个水果盘子。
那对要引产的孕妇，吃了引产药，但是引不下来，所以医院不得不破腹产，男方的姑姑来了，说了才900克，不要小孩，家人一起找医生，说不想要小孩了，害怕小孩畸形或者智力有问题啥的，医生说到了28周，就是国家规定的早产儿，拥有了生命权。医生的意见是以大人为主，如果小孩出来哭声好，就送儿科，如果哭声不好，就手术台签字，放弃抢救。男方考虑良久，打电话询问，最后说，听医生的，也算是做了正确的决定。最后大人平安，但小孩只有600多克，哭声有，但是呼吸困难，存活率低，最后还是放弃抢救了。。。护士给小孩拍了照片给孕妇看，医生说别给她看，否则一辈子都会想起这一刻。这段画面里，还有另一对新出生的小孩，准备奶瓶，爸爸笑嘻嘻的，音乐都是伤感的钢琴曲，一对比就心酸的不行。
第四集 前一集是心酸，这一集就是凶险，一个产妇，第一胎就不顺利，后面第二胎比较顺利生了个女儿，这次第三胎，又比较危险，胎盘突破了子宫膜，需要尽快做手术，做手术的时候，宝宝顺利出来了，但是出现了大出血，胎儿一出来，就有2000ml出血，这时候医生果断提出要切除子宫，询问孕妇的意见，但她还是想抢救一下，医生就做了个实验，发现只要把纱布拿掉，立刻就每分钟500ml的出血，后面医生出来问孕妇的父亲，孕妇的老公在广州做生意，走不开没过来，父亲签字了，医生说的时候是这么说的，现在你签字也是切，不签字。。。也是要切，留给你的选择不多。后面准备切的时候，女方又说想要保留子宫，因为她才30多岁，如果40岁切还可以，结果，中间孕妇心跳骤停了两次，通过紧急抢救，输血，心跳正常了，后面把子宫切掉了，纱布留在腹腔止血，然后缝上腹腔，转ICU，经过了7天的抢救，还好救好了。醒来后，这个女人说了因为自己</description>
    </item>
    
    <item>
      <title>用 gitbook 来书写电子书</title>
      <link>/posts/gitbook/</link>
      <pubDate>Sun, 19 Apr 2020 21:02:31 +0800</pubDate>
      
      <guid>/posts/gitbook/</guid>
      <description>安装 nodejs 首先要安装 nodejs，官网下载非常慢容易失败，这里用淘宝的镜像站点来下载。
https://npm.taobao.org/mirrors/node/v13.13.0/ 从这里找到最新版本号，下载指定系统的包，解压后，拷贝到自定义目录中，再添加个bin目录的环境变量。
我这里是放在 ~/soft/node/ 目录下的，所以在文件 ~/.zshrc 中添加一行。
export PATH=$PATH:~/soft/node/bin 之后执行如下命令来使之生效，并查看是否安装成功。
source ~/.zshrc node --version 安装 cnpm nodejs 使用 npm 来进行包管理，但是 npm 下载特别慢且容易失败，所以这里使用 cnpm 来代替 npm。
# 文档地址 https://developer.aliyun.com/mirror/NPM?from=tnpm # 安装命令 npm install -g cnpm --registry=https://registry.npm.taobao.org # 检查是否安装成功 cnpm --version 如果不想使用 cnpm 也可以，因为本质上 cnpm 只是 npm 的一个软连接
# 设置 npm 的注册地址 npm config set registry https://registry.npm.taobao.org # 查看地址 npm info underscore 安装 gitbook-cli 接下来安装 gitbook 的命令行工具
# 安装命令 cnpm install gitbook-cli -g 创建文档 选择一个用来存放文档的文件夹，我们这里选择的是 ~/program/gitbooks，目录中可以放多个主题的文档。</description>
    </item>
    
    <item>
      <title>编译环境搭建</title>
      <link>/posts/devtools/</link>
      <pubDate>Sun, 19 Apr 2020 21:02:31 +0800</pubDate>
      
      <guid>/posts/devtools/</guid>
      <description>Windows下搭建docker环境 安装docker-machine 1）docker-machine是用来创建boot2docker虚拟机的，下载地址
https://github.com/docker/machine/releases
2）将文件存放到PATH环境变量对应的目录中
3）如有必要，给docker-machine加可执行权限
使用docker-machine创建虚拟机 1）创建虚拟机的命令
docker-machine create --virtualbox-disk-size &amp;#34;50000&amp;#34; --virtualbox-cpu-count &amp;#34;4&amp;#34; \  --virtualbox-memory &amp;#34;4096&amp;#34; -d virtualbox devtool 2）如果执行的非常慢，在下载boot2docker很久，可以先手动下载该ISO，放到cache目录下，再执行命令就会快很多，下面是windows下的路径
C:\Users\username\.docker\machine\cache 3）手动下载boot2docker的地址，将下载好的ISO放入cache文件夹即可
https://github.com/boot2docker/boot2docker/releases
4）创建好虚拟机之后，就可以通过如下命令连接到虚拟机的ssh中
docker-machine start devtool docker-machine ssh devtool 5）进入虚拟机之后，可以通过sudo -s切换到root，无需密码
6）虚拟机中自带了docker命令，而且在/c/是和windows主机的c盘有映射的，可以直接共享文件
使用docker-compose管理docker容器 docker-compose是一个docker的配置管理命令，可以通过一个配置文件，管理多个docker容器，还支持指定Dockerfile，几乎所有docker相关的命令都有对应的配置。
1）下载docker-compose，将可执行文件放到boot2docker虚拟机中
https://github.com/docker/compose/releases
2）编写docker-compose.yaml配置文件
Version0: &amp;#34;3&amp;#34; services: devtool: build: . volumes: - /c/Users/li_xi/work/build/:/build working_dir: /build stdin_open: true tty: true 3）编写Dockerfile
FROMcentos:7RUN yum -y install kde-l10n-Chinese &amp;amp;&amp;amp; \  yum -y reinstall glibc-common &amp;amp;&amp;amp; \  localedef -c -f UTF-8 -i zh_CN zh_CN.</description>
    </item>
    
    <item>
      <title>批量查询 IP 地理位置</title>
      <link>/posts/get-location-by-ip/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/posts/get-location-by-ip/</guid>
      <description>概述 有时候我们需要通过 IP 地址查询所对应的地理位置，虽然有很多在线的网站都提供查询，有些网站还可以批量查询，但是需要登录，而且查询的数量过多时就会卡住，以及有查询数量限制，所以这里记录一种查询的库，并且编写了一个查询工具。
下面是这个 IP 地理位置库的链接。
# 参考来源 https://gitee.com/lionsoul/ip2region/ # db下载 https://gitee.com/lionsoul/ip2region/tree/master/data 从其介绍上看，这个库是集合了一些公开的库，它其实是通过接口从那些在线的地址库中查询并聚合而成。
01, &amp;gt;80%, 淘宝IP地址库, http://ip.taobao.com/02, ≈10%, GeoIP, https://geoip.com/03, ≈2%, 纯真IP库, http://www.cz88.net/这个库提供了很多语言的查询库，可以很方便的在自己的程序中集成。我们这里使用 golang 的接口来编写程序。
接口库的使用 这个库的 golang 接口地址
github.com/lionsoul2014/ip2region/binding/golang/ip2region 下面是例子代码。
package main import ( &amp;#34;fmt&amp;#34; &amp;#34;github.com/lionsoul2014/ip2region/binding/golang/ip2region&amp;#34; ) func main() { fmt.Println(&amp;#34;err&amp;#34;) region, err := ip2region.New(&amp;#34;ip2region.db&amp;#34;) defer region.Close() if err != nil { fmt.Println(err) return } ip, err := region.MemorySearch(&amp;#34;127.0.0.1&amp;#34;) fmt.Println(ip, err) ip, err = region.BinarySearch(&amp;#34;127.0.0.1&amp;#34;) fmt.</description>
    </item>
    
    <item>
      <title>用 QQ 播放器看斗鱼</title>
      <link>/posts/douyu-with-qqplayer/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/posts/douyu-with-qqplayer/</guid>
      <description>概述 无聊的时候就会看看斗鱼直播，主要看看游戏区，奈何网页和官方客户端上各种眼花缭乱的功能，看着就心烦意乱，Win10 上确实有个官方 UWP 的客户端又简洁又美观，然而官方却放弃了这个客户端，目前这个 UWP 版本播放时不时就闪退，实在抓狂，所以只得到网上找找有没有解决办法，于是在网上搜集到了一个比较符合我的口味的解决办法，在这里记录下来。
# 参考链接https://www.52pojie.cn/thread-1096152-1-1.htmlhttps://www.52pojie.cn/thread-957638-1-1.html步骤 第一步是一个关键网址
https://web.sinsyth.com/lxapi/douyujx.x?roomid=房间号 如果房间当前没有直播，则会返回未开播的json
{ &amp;#34;type&amp;#34;: &amp;#34;strjson&amp;#34;, &amp;#34;Rendata&amp;#34;: { &amp;#34;tname&amp;#34;: &amp;#34;Unbroadcast&amp;#34;, &amp;#34;time&amp;#34;: 1588657716 }, &amp;#34;info&amp;#34;: &amp;#34;Live broadcasting has been closed&amp;#34;, &amp;#34;state&amp;#34;: &amp;#34;NO&amp;#34; } 如果房间正在直播，则会返回直播的地址
{ &amp;#34;type&amp;#34;: &amp;#34;strjson&amp;#34;, &amp;#34;Rendata&amp;#34;: { &amp;#34;media_type&amp;#34;: &amp;#34;live&amp;#34;, &amp;#34;data&amp;#34;: { &amp;#34;vid&amp;#34;: &amp;#34;208114&amp;#34;, &amp;#34;roomName&amp;#34;: &amp;#34;\u8bf7\u95ee\u8fd9\u91cc\u662f\u7089\u77f3\u533a\u58f0\u97f3\u6700\u5927\u7684\u76f4\u64ad\u95f4\u5417\uff1f&amp;#34;, &amp;#34;nickname&amp;#34;: &amp;#34;\u6069\u57fa\u7231\u840c\u840c\u54d2\u7684\u72d7\u8d3c&amp;#34;, &amp;#34;avatar&amp;#34;: &amp;#34;https:\/\/apic.douyucdn.cn\/upload\/avatar_v3\/201910\/54c8b6e4868041b1b1dc39776c110850_big.jpg?rltime&amp;#34;, &amp;#34;roomimg&amp;#34;: &amp;#34;https:\/\/rpic.douyucdn.cn\/asrpic\/200505\/208114_1317.png\/dy1&amp;#34;, &amp;#34;roominfo&amp;#34;: &amp;#34;\u4e0d\u7ba1\u4f60\u6765\u4e0d\u6765 \u6bcf\u5929\u6211\u90fd\u5728\u8fd9\u7b49\u4f60\u5440&amp;#34; }, &amp;#34;link&amp;#34;: &amp;#34;http:\/\/hdl1a.douyucdn.cn\/live\/208114rCvmwAkEjM_2000p.flv?wsAuth=5804929fa6cee67e690d1c6ef9f15eb6&amp;amp;token=cpn-androidmpro-0-208114-35b27a1378d7a7e3e8294e9b8cf5f0cb171e097595355a4e&amp;amp;logo=0&amp;amp;expire=0&amp;amp;did=3b261266e884c0ed89a49f0cb582dc30&amp;amp;origin=all&amp;amp;vhost=play2&amp;#34;, &amp;#34;time&amp;#34;: 1588656009 }, &amp;#34;info&amp;#34;: &amp;#34;Check-OK&amp;#34;, &amp;#34;state&amp;#34;: &amp;#34;SUCCESS&amp;#34; } 上面的 json 中，link 字段就是直播的地址，这里要做个变换。</description>
    </item>
    
  </channel>
</rss>
